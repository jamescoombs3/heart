# heart
"A data driven method to define the heart of a school's community."

In England, deregulated 'Academy' schools are state funded on the strict basis that they are "at the heart of the community" ... but this isn't defined. 

# Code
There are two scripts which measure inclusivity against the "local community". There is a longer description of the reasoning behind the mathematical models they use here https://trak.org.uk/mind-the-gap
1) nearest-primary-v6.py
Evaluates secondary schools' inclusivity by comparing their %FSM against nearby primaries' %FSM weighted by size and inverse square of distance.

2) school2IDACI.py
Evaluates secondary schools' inclusivity by comparing their %FSM against Income Deprivation Affecting Children Index (IDACI) by Lower Super Output Areas (LSOAs) weighted by size and inverse square of distance.

The input data is all published by gov.uk. Details of where the latest data can be found can be found in the comments in the scripts. 

# Output data using primary schools' FSM as a reference. 
**gap_data-v6-calib.csv**   contains the output from the 'nearest primary' script. (This contains the data that most people are likely to be interested in.) It is a CSV file. The first 14 fields come directly from the DfE school level data from census returns. The remaining 3 fields are added by the 'nearest primary' script. A basic description of the fields is as follows: 

**URN**:  	                Unique reference number

**LA**:	                    local authority

**EstablishmentName**:     School name

**TypeOfEstablishment**:	  EG academy converter or voluntary controlled. 

**Gender**:	              Obvious!

**ReligiousCharacter**:	  Faith as recorded by DfE census (may not be accurate)

**AdmissionsPolicy**:	    Selective, non-selective or blanks (which are non-selective). 

**SchoolCapacity**:	      Total capacity

**NumberOfPupils**:	      Number actually on roll

**PercentageFSM**:	        Proportion of those entitled to FSM

**TrustSchoolFlag**:	      Relates to academy status.

**Full_Address**:	       Obvious!

**ParliamentaryConstituency**:	 Obvious!

**UrbanRural**:	         Obvious!

**localFSM**:	          Based on primary schools in the area. (generated by the script)

**gap**:	                The difference between the school and the "local" FSM (generated by the script)

**cat**:	                A categorical quantile used to describe the gap. (generated by the script)


# Output data using Income Deprivation Affecting Children Index as a reference. 
**school-to-idaci.csv**     contains the output from the IDACI script.  This contains 16 fields from DfE census data and one calculated value. A basic description of the fields is as follows:

**URN**:   Unique reference number

**LA**:   local authority

**EstablishmentName**:   School name

**TypeOfEstablishment**:   EG academy converter or voluntary controlled. 

**Gender**:   Obvious!

**ReligiousCharacter**:   Faith as recorded by DfE census (may not be accurate)

**AdmissionsPolicy**:   Selective, non-selective or blanks (which are non-selective). 

**SchoolCapacity**:Total capacity

**NumberOfPupils**:   Number actually on roll

**PercentageFSM**:   Proportion of those entitled to FSM

**TrustSchoolFlag**:Relates to academy status.

**ParliamentaryConstituency**:   Obvious!

**UrbanRural**:Obvious!

**Easting**: polar coordinates

**Northing**: polar coordinates

**localIDACI**:   The distance weighted IDACI score relating to the polar coordinates of the school.


