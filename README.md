# heart
__"A data driven method to define the heart of a school's community."__

The reason this repository has an odd name is because in England, deregulated 'Academy' schools are state funded on the strict basis that they are "at the heart of the community" ... however, the legislature failed to define what "heart" actually means. The statutory requirement to serve the community is therefore entirely performative. This is a data driven method to introduce some objective measures to identify social inclusivity based around entitlement to free school meals.

# Code
There are two scripts which measure inclusivity against the "local community". There is a longer description of the reasoning behind the mathematical models they use here https://trak.org.uk/mind-the-gap
1) nearest-primary-v6.py
Evaluates secondary schools' inclusivity by comparing their %FSM against nearby primaries' %FSM weighted by size and inverse square of distance.

2) school2IDACI.py
Evaluates secondary schools' inclusivity by comparing their %FSM against Income Deprivation Affecting Children Index (IDACI) by Lower Super Output Areas (LSOAs) weighted by size and inverse square of distance.

The input data is all published by gov.uk. Details of where the latest data can be found can be found in the comments in the scripts. 

# Output data
## Using  primary schools' FSM as a reference. 
[gap_data-v6-calib.csv](https://github.com/jamescoombs3/heart/blob/main/gap_data-v6-calib.csv) contains the output from the 'nearest primary' script. The first 14 fields come directly from the DfE school level data from census returns. The remaining 3 fields are added by the 'nearest primary' script. A basic description of the fields is as follows: 

**URN**:  	                Unique reference number

**LA**:	                    local authority

**EstablishmentName**:     School name

**TypeOfEstablishment**:	  EG academy converter or voluntary controlled. 

**Gender**:	              Obvious!

**ReligiousCharacter**:	  Faith as recorded by DfE census (may not be accurate)

**AdmissionsPolicy**:	    Selective, non-selective or blanks (which are non-selective). 

**SchoolCapacity**:	      Total capacity

**NumberOfPupils**:	      Number actually on roll

**PercentageFSM**:	        Proportion of those entitled to FSM

**TrustSchoolFlag**:	      Relates to academy status.

**Full_Address**:	       Obvious!

**ParliamentaryConstituency**:	 Obvious!

**UrbanRural**:	         Obvious!

**localFSM**:	          Based on primary schools in the area. (generated by the script)

**gap**:	                The difference between the school and the "local" FSM (generated by the script)

**cat**:	                A categorical quantile used to describe the gap. (generated by the script)

The code that created this output could be modified to look at any other school level data such as special educational needs (SEND) or English as an additional language (EAL) to compare secondary schools to neighbouring primaries. It could also look at ethnicity although as these aren't simple binary values I need to think a lot more about that!

## Using Income Deprivation Affecting Children Index (IDACI) as a reference. 
[school-to-idaci.csv](https://github.com/jamescoombs3/heart/blob/main/school-to-idaci.csv) contains the output from the IDACI script. This contains 16 fields from DfE census data and one calculated "local IDACI" value. A basic description of the fields is as follows:

**URN**:   Unique reference number

**LA**:   local authority

**EstablishmentName**:   School name

**TypeOfEstablishment**:   EG academy converter or voluntary controlled. 

**Gender**:   Obvious!

**ReligiousCharacter**:   Faith as recorded by DfE census (may not be accurate)

**AdmissionsPolicy**:   Selective, non-selective or blanks (which are non-selective). 

**SchoolCapacity**:Total capacity

**NumberOfPupils**:   Number actually on roll

**PercentageFSM**:   Proportion of those entitled to FSM

**TrustSchoolFlag**:Relates to academy status.

**ParliamentaryConstituency**:   Obvious!

**UrbanRural**:Obvious!

**Easting**: polar coordinates

**Northing**: polar coordinates

**localIDACI**:   The distance weighted IDACI score relating to the polar coordinates of the school (generated by the script)

FSM entitlement and IDACI are both valid but different measures of relative affluence. So defining a "gap" from these data would be meaningless. It is still possible to use linear regression to find which schools are more/less inclusive based on and add any of the above attributes into a multiple linear regression model to determine the effect of possible explanatory factors. 


